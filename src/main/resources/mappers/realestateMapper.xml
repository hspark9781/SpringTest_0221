<?xml version="1.0" encoding="UTF-8"?>

 <!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.hsp.spring.test.mybatis.dao.RealEstateDAO">
  
  	<select id="selectRealEstateId" resultType="com.hsp.spring.test.mybatis.model.RealEstate"
  		parameterType="int">
  		SELECT
  			`id`
  			, `realtorId`
  			, `address`
  			, `area`
  			, `type`
  			, `price`
  			, `rentPrice`
  			, `createdAt`
  			, `updatedAt`
  		FROM 
  			`real_estate`
  		WHERE
  		`id` = #{id}
  	</select>
  	
  	<select id="selectRealEstateRent" resultType="com.hsp.spring.test.mybatis.model.RealEstate"
  		parameterType="int">
  		SELECT
  			`id`
  			, `realtorId`
  			, `address`
  			, `area`
  			, `type`
  			, `price`
  			, `rentPrice`
  			, `createdAt`
  			, `updatedAt`
  		FROM 
  			`real_estate`
  		WHERE
  			<![CDATA[ `rentPrice` < #{rent} ]]>
  	</select>
  	
  	<select id="selectRealEstateAreaPrice" resultType="com.hsp.spring.test.mybatis.model.RealEstate"
  		parameterType="map">
  		SELECT
  			`id`
  			, `realtorId`
  			, `address`
  			, `area`
  			, `type`
  			, `price`
  			, `rentPrice`
  			, `createdAt`
  			, `updatedAt`
  		FROM 
  			`real_estate`
  		WHERE
  			<![CDATA[ `area` >= #{area} ]]> AND <![CDATA[ `price` <= #{price} ]]>
  		ORDER BY
  			`id` DESC
  	</select>
  		
  		
  
  </mapper>
  
  